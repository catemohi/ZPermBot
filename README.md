# ZPermBot
## Основная задача
### _Сделать телеграм бота, который будет парсить данные из **Google Sheets** и выводить их в телеграм._
---
## Требования к функционалу бота
* ### _Бот должен обладать тремя функциями:_
    * _Вывод информации по Доходам/Расходам за день._
    * _Вывод информации по договорам у которых 20ый или 40ой день с момента заключения._
    * _Вывод информации по Доплатам за определенный день._
* ### _У бота должна быть реализована система авторизации._
* ### _Должна быть административная панель, для добавления и удаления пользователей._
---
## Решения
### _Было принято решения реализовывать взаимодействие с ботом через кнопочное меню._
___Было запрограмировано несколько клавиатур:___
* _Клавиатура главного меню_
* _Клавиатура выбора дня_
* _Клавиатура отмены_
* _Клавиатура другого дня_

_На клавиатурах собрано иерархическое меню, выбор **«другого дня»** производится с преминением технологии конечного автомата._

    Клавиатуры лежат в подмодуле .keyboards

_Для проверки авторизации используется хендлер котрый перехватывает сообщения от id, у которых нет доступ к боту. Если доступа нет, пользователь получает ответ **«Нет доступа.»**. Если доступ есть, сообщения обрабатывают другие хендлеры функций._

_Для функций используются отдельные хендлеры._
    
    Хендлеры лежат в подмодуле .handlers

### _За связь с Google Sheets отвечает класс Interrogator_
_Класс опирается на билиотеку **gsreed**._

_При инициализации экземпляра класса создаются рабочие листы со всеми необходимыми таблицами. Далее экземпляр передается хендлерам и они запрашивают необходимую информацию через класс у **Google Sheets**._

    Класс Interrogator лежат в подмодуле sheets

---
## Деплой 
_Бот выложен на хероку, работает через тип **worker**._