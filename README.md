# ZPermBot
## Основная задача
### _Сделать телеграм бота, который будет парсить данные из **Google Sheets** и выводить их в телеграм._
---
## Требования к функционалу бота
* ### Бот должен обладать тремя функциями:
    * _Вывод информации по Доходам/Расходам за день._
    * _Вывод информации по договорам у которых 20ый или 40ой день с момента заключения._
    * _Вывод информации по Доплатам за определенный день._
* ### У бота должна быть реализована система авторизации.
* ### Должна быть административная панель, для добавления и удаления пользователей.
---
## Решения
### Было принято решения реализовывать взаимодействие с ботом через кнопочное меню.
__Запрограмировано несколько клавиатур:__
* _Клавиатура главного меню_
* _Клавиатура выбора дня_
* _Клавиатура отмены_
* _Клавиатура другого дня_

На клавиатурах собрано иерархическое меню, выбор **«другого дня»** производится с преминением технологии конечного автомата.

    Клавиатуры лежат в подмодуле .keyboards

Для проверки авторизации используется хендлер котрый перехватывает сообщения от id, у которых нет доступ к боту. Если доступа нет, пользователь получает ответ **«Нет доступа.»**. Если доступ есть, сообщения обрабатывают другие хендлеры функций.

_Для функций используются отдельные хендлеры._
    
    Хендлеры лежат в подмодуле .handlers

### За связь с Google Sheets отвечает класс Interrogator
Класс опирается на библиотеку **gsreed**.

При инициализации экземпляра класса создаются рабочие листы со всеми необходимыми таблицами. Далее экземпляр передается хендлерам и они запрашивают необходимую информацию через класс у **Google Sheets**.

    Класс Interrogator лежат в подмодуле sheets

---
## Деплой 
_Бот выложен на хероку, работает через тип **worker**._